infoCertificado1=select (select last_value from certificaciones_cer_id_seq),cgsnombre, cgsid, pernombres||' '||perapellidos, pernumdoc, perdocde, cgsfeccreacion,(select pernombres||' '||perapellidos from personal where perid=cgsdirector), case binvpapel when 1 then 'Director' when 2 then 'Integrante' when 3 then 'Integrante' when 4 then 'Egresado' when 4 then 'Egresado' when 5 then 'Lider de Semillero' when 6 then 'Invitado' end, case cgscategoria when 1 then '1' when 2 then '2' when 3 then 'C' when 4 then 'B' when 5 then 'A' when 6 then 'Reconocido' when 7 then 'D' when 8 then 'A1' when 9 then 'Reconocido' end from cidc_grup_semill, b_investigadores, personal WHERE binvidper=perid and cgsid=binvidgrupoinv and perid=? and binvidgrupoinv=?
crearCertificado=INSERT INTO certificaciones(cer_tipo, cer_fecha, cer_contenido, cer_codverificacion, cer_automatico, cer_idper, cer_cedula, cer_url, cer_id_grupo)VALUES (1, CURRENT_TIMESTAMP, ?, ?, true, ?, ?, ?, ?);
Certificado++=select nextval ('certificaciones_cer_id_seq')
BuscarCertificado=select cer_id, case cer_tipo when 1 then 'Pertenencia Grupo' when 2 then 'Paz y Salvo' when 3 then 'Actividades de Investigación' end, cer_fecha, cer_codverificacion,case cer_automatico when true then 'Automático' else 'Generado Administrador' end, pernombres||' '||perapellidos, cer_url, cgsnombre from certificaciones, personal, cidc_grup_semill where perid=cer_idper and cer_id_grupo=cgsid and cer_cedula like ? and cer_codverificacion like ?
BuscarCertificadoPersona=select cer_id, case cer_tipo when 1 then 'Pertenencia Grupo' when 2 then 'Paz y Salvo' when 3 then 'Actividades de Investigación' end, cer_fecha, cer_codverificacion,case cer_automatico when true then 'Automático' else 'Generado Administrador' end, pernombres||' '||perapellidos, cer_url, cgsnombre from certificaciones, personal, cidc_grup_semill where perid=cer_idper and cer_id_grupo=cgsid and cer_idper=?  order by cer_id desc